---
layout: post
title: 房贷的计算
categories: investment
mathjax: true
---

之前我讨论过分期付款的实际利率，发现比较坑。今天再来讨论一下房贷，房贷的计算有很多在线的[计算器](https://www.rong360.com/calculator/fangdai.html)，输入贷款额度，利率，以及贷款年数，选择等额本息还是等额本金还款，就可以得到每月还款的数值，下面我来分析一下这里面的原理，并简单讨论一下两种还款方式的优劣，以及提前还款是否有必要。

### 1.一个例子

假设贷款100万，年利率5%，贷款20年，使用前述计算器计算，得到等额本息还款每月6,599.56元，等额本金还款首月8,333.33元，以后每月递减17.36元。一般的，假设借款总额为T，年华利率为p，贷款年限为Y。

### 2.基本原理

房贷的利率是很厚道的实际利率，什么叫实际利率呢？就是按你实际占用银行资金的多少来计算利息。当你按月归还了一定的本金了以后，下个月计息的本金就变少了，而不像消费贷的分期付款，计息的本金一直是不变的，才出现实际利率比名义利率高很多的情况。无论是等额本息还是等额本金还款，利率都是实际利率，而按目前的商贷利率4.90%，公积金利率3.25%，甚至还有折扣，所以房贷是普通人能拿到大额低息贷款的最重要的方式。

按照实际利率，如果上一期还欠本金$$T$$，年化利率为p，本期归还本金C，则本月须还款

M=C+T*p/12，下一期本金变为T-C。

### 3.等额本金还款

等额本金还款每个月还款数额逐渐减少，看起来比较麻烦，但是在原理和数学计算上其实更简单。首先，我们把借的本金T摊分到所有的月份，为$$C=T/(Y\cdot 12)$$，则首月还款为$$M =C+T\cdot p/12$$，T=1,000,000，p=5%，Y=20时，计算得到C=4166.67元，M=8333.33元，以后每月本金减少C，相应的利息减少$$C\cdot p/12$$，为17.36元。可以看到，等额本金还款每月还的本金不变，而利息则在不断减少。

### 4.等额本息还款

等额本息还款每个月还款数额相同，看起来比较简单，但是原理时数学计算更复杂，关键在于依然要符合2中所说的基本原理，随着待还本金的减少，每月还的利息会减少，但是要求每月归还的本金和利息加起来应该相同，这样的话，每个月归还的本金应该越来越多，才能维持这个平衡，究竟多多少，需要一个细致的计算过程。

我们知道最后一个月归还本金和利息后，贷款还完了，可以据此倒推。假设最后一个月还本金$$M_1$$，则利息为$$M _1\cdot p/12$$，还款总额为$$C_1=M_1\cdot(1+p/12)$$，往前推一个月，假设这个月归还本金$M_2$，则利息为$$(M_0+M_1))\cdot p/12$$，归还总额为$$C_2=M_2+(M_1+M_2)\cdot p/12$$，由于$$C_1=C_2$$，不难退出$$M_2 = M_1/(1+p/12)$$，一般的$$C_k=M_k+\sum_1^k{M_k}\cdot p/12$$，由$$C_k=C_{k+1}$$ 得出$$M_{k+1} = M_k/(1+p/12)$$

所以每月还款的本金是一个等比数列，它的比值比率是$$1+p/12​$$，简单期间，我们计算最后一个月的本金$$M_1$$,则

$$T = \sum_{t=0}^{Y\cdot 12-1}{}M_1/(1+p/12)^t$$，则$$M_1 = T \cdot \frac {1-(1+p/12)^{-1}} {1-(1+p/12)^{-Y\cdot 12}}$$，每月还款额度为$$C=T\cdot \frac {p/12} {1-(1+p/12)^{-Y\cdot 12}}$$，T=1,000,000，p=5%，Y=20，计算得到C=6,599.56。 